<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="reservation.css" />
    <title>神は民</title>
  </head>
  <body>
    <!-- Top Navigation Bar -->
    <top-bar class="top-bar"></top-bar>

    <h2>族地</h2>
    <div class="img-container row">
      <img src="../images/apartments.jpeg" />
      <img src="../images/settlements.jpeg" />
    </div>

    <iframe
      height="315"
      src="https://www.youtube.com/embed/2-6v073KgV0?si=UMOI4TTqeNyxV7kY"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    ></iframe>

    <p>3D打印可持续的捍畱</p>

    <div class="img-container">
      <img
        src="../images/chunin_exams.png"
        alt="Naruto, Chunin Exams"
        title="Naruto, Chunin Exams"
      />
      <p>帝国:天土</p>
      <img
        src="../images/aot-mikasa.gif"
        alt="Attack on Titan"
        title="Attack on Titan"
      />
      <img
        src="../images/paths.png"
        alt="Attack on Titan"
        title="Attack on Titan"
      />
    </div>

    <script src="../main.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get all imgs
        const inviteImages = document.querySelectorAll("img");

        inviteImages.forEach((image) => {
          image.addEventListener("click", function () {
            // Check if the image is already expanded
            if (image.classList.contains("expanded")) {
              collapseImage(image); // Collapse if it's already expanded
            } else {
              // Add overlay background
              const overlay = document.createElement("div");
              overlay.classList.add("overlay");
              document.body.appendChild(overlay);

              // Expand the image and scale to fit the screen
              scaleToFitScreen(image);

              // Remove expansion when clicking on the overlay
              overlay.addEventListener("click", function () {
                collapseImage(image);
                overlay.remove(); // Remove the overlay when collapsing
              });
            }
          });
        });

        // Function to scale the image to fit the screen
        function scaleToFitScreen(image) {
          const screenWidth = window.innerWidth;
          const screenHeight = window.innerHeight;
          const imageAspectRatio = image.naturalWidth / image.naturalHeight;

          // Calculate the new width and height for the image to fit within the screen
          let newWidth, newHeight;

          if (screenWidth / screenHeight > imageAspectRatio) {
            // Screen is wider than image aspect ratio, limit by height
            newHeight = screenHeight * 0.9; // Use 90% of screen height
            newWidth = newHeight * imageAspectRatio;
          } else {
            // Screen is narrower than image aspect ratio, limit by width
            newWidth = screenWidth * 0.9; // Use 90% of screen width
            newHeight = newWidth / imageAspectRatio;
          }

          // Apply expanded class and set dynamic size
          image.classList.add("expanded");
          image.style.width = `${newWidth}px`;
          image.style.height = `${newHeight}px`;
          image.style.top = `50%`;
          image.style.left = `50%`;
          image.style.position = `fixed`;
          image.style.zIndex = `1000`;
          image.style.transform = `translate(-50%, -50%)`;
        }

        // Function to collapse the image back to its original state
        function collapseImage(image) {
          // Remove the expanded class and reset inline styles
          image.classList.remove("expanded");
          image.style.width = "";
          image.style.height = "";
          image.style.top = "";
          image.style.left = "";
          image.style.position = "";
          image.style.zIndex = "";
          image.style.transform = "";
        }
      });
    </script>
  </body>
</html>
